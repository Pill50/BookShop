{{#> app}}
  {{#*inline "content"}}
  <div class="container py-4 min-h-[calc(100vh-180px)]">
    <h1 class="font-bold text-2xl text-blue-500 text-center mb-2">DETAIL ORDER ITEM</h1>
    <div class="overflow-x-auto p-4 flex gap-3">
        <div class="flex-2">
            {{!-- TABLE --}}
            <table class="text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 shadow-md sm:rounded-lg w-full">
                <thead class="text-xs text-blue-700 uppercase bg-blue-50 dark:bg-blue-700 dark:text-blue-400">
                    <tr>
                        <th scope="col" class="px-6 py-3 rounded-tl-md">
                            Image Info
                        </th>
                        <th scope="col" class="px-3 py-3">
                            Amount
                        </th>
                        <th scope="col" class="px-3 py-3">
                            Price / Discount
                        </th>
                        <th scope="col" class="px-3 py-3">
                            Total Price
                        </th>
                        <th scope="col" class="px-6 py-3 rounded-tr-md">
                            Order Date
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {{#each order.orderDetail}}
                    <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 hover:bg-blue-100 ">
                        <td class="px-6 py-4">
                            <img src="{{this.book.thumbnail}}" alt="{{this.book.title}}" class="w-20 h-20 object-cover">
                            <p class="font-semibold max-w-[200px] truncate ...">
                              {{this.book.title}}
                            </p>
                        </td>
                        <td class="px-3 py-4">
                            {{this.amount}}
                        </td>
                        <td class="px-3 py-4">
                            <p>
                              {{this.price}} 
                            </p>
                            <p>
                              <span class="bg-pink-100 text-pink-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-pink-900 dark:text-pink-300">-{{this.discount}}%</span>
                            </p>
                        </td>
                        <td class="px-3 py-4 font-bold">
                            {{this.totalPrice}}
                        </td>
                        <td class="px-6 py-4 max-w-[200px] truncate ...">
                            {{this.orderDate}}
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>

            <div class="w-[250px] p-3 shadow-md ml-auto my-3 text-end">
              <h2 class="font-bold text-yellow-500">Order Summary</h2>
              <div class="h-[1px] bg-gray-200 my-2"></div>
              <p>
                Total books: 
                <span class="font-semibold">{{totalBook}}</span>
              </p>
              <p>
                Shipped cost: 
                <span class="text-md font-semibold">0 VNĐ</span>
              </p>
              <p>
                Total cost: 
                <span class="text-lg text-red-500 font-bold">{{order.totalPrice}} VNĐ</span>
              </p>
            </div>
        </div>
        <div class="flex-1">
          {{!-- INFO RECEIVER--}}
          <div class="mb-3">
              <div class="p-3 rounded-lg shadow-lg">
                  <div class="">
                    <h1 class="text-center font-bold text-lg text-red-500 bg-red-200 rounded-lg mb-2">Information of receiver</h1>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                      <path fill-rule="evenodd" d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z" clip-rule="evenodd"/>
                      </svg>
                      Name: 
                      <span class="font-normal">{{order.receiverName}}</span>
                    </p>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M7.978 4a2.553 2.553 0 0 0-1.926.877C4.233 6.7 3.699 8.751 4.153 10.814c.44 1.995 1.778 3.893 3.456 5.572 1.68 1.679 3.577 3.018 5.57 3.459 2.062.456 4.115-.073 5.94-1.885a2.556 2.556 0 0 0 .001-3.861l-1.21-1.21a2.689 2.689 0 0 0-3.802 0l-.617.618a.806.806 0 0 1-1.14 0l-1.854-1.855a.807.807 0 0 1 0-1.14l.618-.62a2.692 2.692 0 0 0 0-3.803l-1.21-1.211A2.555 2.555 0 0 0 7.978 4Z"/>
                      </svg>
                      Phone number: 
                      <span class="font-normal">{{order.receiverPhone}}</span>
                    </p>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                      <path fill-rule="evenodd" d="M7 2a2 2 0 0 0-2 2v1a1 1 0 0 0 0 2v1a1 1 0 0 0 0 2v1a1 1 0 1 0 0 2v1a1 1 0 1 0 0 2v1a1 1 0 1 0 0 2v1a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H7Zm3 8a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm-1 7a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3 1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1Z" clip-rule="evenodd"/>
                      </svg>
                      Address: 
                      <span class="font-normal">{{order.address}}</span>
                    </p>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                      <path fill-rule="evenodd" d="M11 4.717c-2.286-.58-4.16-.756-7.045-.71A1.99 1.99 0 0 0 2 6v11c0 1.133.934 2.022 2.044 2.007 2.759-.038 4.5.16 6.956.791V4.717Zm2 15.081c2.456-.631 4.198-.829 6.956-.791A2.013 2.013 0 0 0 22 16.999V6a1.99 1.99 0 0 0-1.955-1.993c-2.885-.046-4.76.13-7.045.71v15.081Z" clip-rule="evenodd"/>
                      </svg>
                      Note: 
                      <span class="font-normal">{{order.note}}</span>
                    </p>
                  </div>
              </div>
          </div>
          {{!-- STATUS ORDER --}}
          <div class="mb-3">
              <div class="p-3 rounded-lg shadow-lg">
                  <div class="">
                    <h1 class="text-center font-bold text-lg text-green-500 bg-green-200 rounded-lg mb-2">Order's status</h1>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M7.833 2c-.507 0-.98.216-1.318.576A1.92 1.92 0 0 0 6 3.89V21a1 1 0 0 0 1.625.78L12 18.28l4.375 3.5A1 1 0 0 0 18 21V3.889c0-.481-.178-.954-.515-1.313A1.808 1.808 0 0 0 16.167 2H7.833Z"/>
                      </svg>
                      Status: <span class="font-normal">{{order.status}}</span>
                    </p>
                    <p class="mb-2 font-semibold flex gap-1">
                      <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M4 4a2 2 0 0 0-2 2v9a1 1 0 0 0 1 1h.535a3.5 3.5 0 1 0 6.93 0h3.07a3.5 3.5 0 1 0 6.93 0H21a1 1 0 0 0 1-1v-4a.999.999 0 0 0-.106-.447l-2-4A1 1 0 0 0 19 6h-5a2 2 0 0 0-2-2H4Zm14.192 11.59.016.02a1.5 1.5 0 1 1-.016-.021Zm-10 0 .016.02a1.5 1.5 0 1 1-.016-.021Zm5.806-5.572v-2.02h4.396l1 2.02h-5.396Z" clip-rule="evenodd"/>
                      </svg>
                      Shipper: 
                      <span class="font-normal">{{order.shipper.companyName}}</span>
                    </p>
                    {{#if (eq order.status 'PENDING')}}
                      <button type="button" class="text-black bg-gray-300 hover:bg-gray-800 hover:text-white focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-600 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800" onclick="window.location.href='/admin/order/update-status/{{order.id}}?status=CANCELED'">Cancel Order</button>
                      <button type="button" class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 focus:outline-none dark:focus:ring-green-800" onclick="window.location.href='/admin/order/update-status/{{order.id}}?status=SHIPPED'">Ship Order</button>
                    {{else if (eq order.status 'SHIPPED')}}
                      <button type="button" class="text-black bg-gray-300 hover:bg-gray-800 hover:text-white focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-600 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800" onclick="window.location.href='/admin/order/update-status/{{order.id}}?status=CANCELED'">Cancel Order</button>
                      <button type="button" class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 focus:outline-none dark:focus:ring-green-800" onclick="window.location.href='/admin/order/update-status/{{order.id}}?status=COMPLETED'" >Complete Order</button>
                    {{/if}}
                  </div>
              </div>
          </div>
        </div>
    </div>
  </div>
  {{/inline}}
{{/app}}
